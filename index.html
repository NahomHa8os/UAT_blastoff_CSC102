<!DOCTYPE html>
<!-- Author: Nahom Hagos-->
<!-- Assignment: JavaScript DOM and Document Structure with Tables and Themes and Mock Data -->
<html>
    
    <!-- JS Script Link-->
    <script src="scripts.js"></script>

    <!-- Script Loader -->
    <script src="dataLoader-1.js"></script>

    <!-- CSS Script Link -->
    <link rel="stylesheet" type="text/css" href="style.css">

    <head>
        <title>UAT Space Assignment</title>
        <script>
            //global variables
            var theTime = new Date();
            var temptime = new Date();
            var time_interval = 5000;
            var last_iteration = 0;
            var running = true;
            var index = 0;
            var timer;
            
            //load data into the array
            var data = getData();
            
            //functions to load Data
            function updateDisplay(){
                theTime = new Date();
                //debugging
                console.log(
                    "Display : " + (theTime.getHours() < 10 ? "0" + theTime.getHours() : theTime.getHours()) + 
                    ":" + (theTime.getMinutes() < 10 ? "0" + theTime.getMinutes() : theTime.getMinutes()) +
                    ":" + (theTime.getSeconds() < 10 ? "0" + theTime.getSeconds() : theTime.getSeconds())
                );

                

                //now update the document
                var timeRead = data[index].time_seconds;
                if (timeRead >= 10) {
                    document.getElementById("data").rows["seconds"].innerHTML = dataRow("Time Elapsed", data[index].time_seconds, "seconds");
                    document.getElementById("data").rows["latitude"].innerHTML = dataRow("latitude", data[index].latitude, "");
                    document.getElementById("data").rows["longitude"].innerHTML = dataRow("longitude", data[index].longitude, "");
                    document.getElementById("data").rows["gps_altitude"].innerHTML = dataRow("gps_altitude", data[index].gps_altitude, "");
                    document.getElementById("data").rows["bmpSensor_altitude"].innerHTML = dataRow("bmpSensor_altitude", data[index].bmpSensor_altitude, "");
                    document.getElementById("data").rows["bmpSensor_pressure"].innerHTML = dataRow("bmpSensor_pressure", data[index].bmpSensor_pressure, "");
                    document.getElementById("data").rows["bmpSensor_temperature"].innerHTML = dataRow("bmpSensor_temperature", data[index].bmpSensor_temperature, "");
                    document.getElementById("data").rows["digSensor_temp"].innerHTML = dataRow("digSensor_temp", data[index].digSensor_temp, "");
                    document.getElementById("data").rows["cssSensor_eCO2"].innerHTML = dataRow("cssSensor_eCO2", data[index].cssSensor_eCO2, "");
                    document.getElementById("data").rows["cssSensor_TVOC"].innerHTML = dataRow("cssSensor_TVOC", data[index].cssSensor_TVOC, "");
                    document.getElementById("data").rows["UV"].innerHTML = dataRow("UV", data[index].UV, "");
                    document.getElementById("data").rows["accelX"].innerHTML = dataRow("accelX", data[index].accelX, "");
                    document.getElementById("data").rows["accelY"].innerHTML = dataRow("accelY", data[index].accelY, "");
                    document.getElementById("data").rows["accelZ"].innerHTML = dataRow("accelZ", data[index].accelZ, "");
                    document.getElementById("data").rows["magneticX"].innerHTML = dataRow("magneticX", data[index].magneticX, "");
                    document.getElementById("data").rows["magneticZ"].innerHTML = dataRow("magneticZ", data[index].magneticZ, "");
                    document.getElementById("data").rows["gyroX"].innerHTML = dataRow("gyroX", data[index].gyroX, "");
                    document.getElementById("data").rows["gyroY"].innerHTML = dataRow("gyroY", data[index].gyroY, "");
                    document.getElementById("data").rows["gyroZ"].innerHTML = dataRow("gyroZ", data[index].gyroZ, "");

                    //loop to feed the data
                    if (index < 499){
                        index++;                        
                    } else {
                        index = 0;
                    }

                    document.getElementById("time").innerHTML = 
                        (theTime.getHours() < 10 ? "0" + theTime.getHours() : theTime.getHours()) + 
                        ":" + (theTime.getMinutes() < 10 ? "0" + theTime.getMinutes() : theTime.getMinutes()) +
                        ":" + (theTime.getSeconds() < 10 ? "0" + theTime.getSeconds() : theTime.getSeconds());
                }
            }
        </script>

    </head>

    <body> 
        <script>
            var mySound;    
        </script>
        <!-- Table for the logo and title  -->
        <p class="top">
            <table class="tableTop">
                <tr> <!-- tr defines a row-->
                    <!-- td defines a left aligned regular  the bold and center -->
                    <td>  <img src="images\UATSpace-1.png">  </td>
                    <td><h1>UAT Space Program</h1></td>
                </tr>
            </table>
        </p>

        <!-- Second Table-->
        <table id="data" border="2" width= "70%" class="table2">
            <col style="width: 35%;">
            <col style="width: 35%;">
                <thead>
                    <tr style="font-family: fantasy;">
                        <!-- Table Header 1 -->
                        <th align="left"> Data Type </th>
                        <!-- Table Header 2 -->
                        <th align="left"> Reading </th>
                    </tr>
                </thead>

                <!-- Content of the table -->
                <tbody>
                    <tr id="seconds"></tr>
                    <tr id="latitude"></tr>
                    <tr id="longitude"></tr>
                    <tr id="gps_altitude"></tr>
                    <tr id="bmpSensor_altitude"></tr>
                    <tr id="bmpSensor_pressure"></tr>
                    <tr id="bmpSensor_temperature"></tr>
                    <tr id="digSensor_temp"></tr>
                    <tr id="cssSensor_temp"></tr>
                    <tr id="cssSensor_eCO2"></tr>
                    <tr id="cssSensor_TVOC"></tr>
                    <tr id="UV"></tr>
                    <tr id="accelX"></tr>
                    <tr id="accelY"></tr>
                    <tr id="accelZ"></tr>
                    <tr id="magneticX"></tr>
                    <tr id="magneticZ"></tr>
                    <tr id="gyroX"></tr>
                    <tr id="gyroY"></tr>
                    <tr id="gyroZ"></tr>
                </tbody>
        </table>
        <br>
        <br>


        <!-- Buttons 1 -->
        <input id="startButton"  type="button" value="Start" onclick="start();" class="button"/>

        <!-- Button 2 -->
        <input id="stopButton"  type="button" value="Stop" onclick="start();" disabled=true class="button"/>
        <script>         
        </script>
        <br>
        <br>
        The Time is : <div id="time"></div>
          
    </body>

</html>